<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Live Transactions - USDT-FLASH | Real-Time Global Activity</title>
    <link rel="icon" type="image/png" href="../img/usdt_cryptocurrencies_icon_188337.png">
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    <style>
        * { font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif; }
        
        body { background: linear-gradient(135deg, #0f1419 0%, #1a2e1a 25%, #f8fafc 50%, #ffffff 100%); }
        
        .glass-morphism {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(30px) saturate(180%);
            border: 1px solid rgba(255, 255, 255, 0.3);
            box-shadow: 0 8px 32px rgba(31, 38, 135, 0.15);
        }
        
        .gradient-text {
            background: linear-gradient(135deg, #26a17b 0%, #34d399 50%, #10b981 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .neon-glow {
            box-shadow: 0 0 30px rgba(38, 161, 123, 0.5), 0 0 60px rgba(38, 161, 123, 0.3);
        }
        
        .floating { animation: floating 3s ease-in-out infinite; }
        @keyframes floating { 0%, 100% { transform: translateY(0px); } 50% { transform: translateY(-15px); } }
        
        .pulse-ring { animation: pulseRing 2s infinite; }
        @keyframes pulseRing { 0% { box-shadow: 0 0 0 0 rgba(38, 161, 123, 0.7); } 70% { box-shadow: 0 0 0 20px rgba(38, 161, 123, 0); } 100% { box-shadow: 0 0 0 0 rgba(38, 161, 123, 0); } }
        
        .slide-in { animation: slideIn 0.6s cubic-bezier(0.34, 1.56, 0.64, 1); }
        @keyframes slideIn { from { opacity: 0; transform: translateY(30px) scale(0.9); } to { opacity: 1; transform: translateY(0) scale(1); } }
        
        .shimmer { background: linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent); background-size: 200% 100%; animation: shimmer 2s infinite; }
        @keyframes shimmer { 0% { background-position: -200% 0; } 100% { background-position: 200% 0; } }
        
        .message-bubble { animation: messageBubble 0.5s cubic-bezier(0.34, 1.56, 0.64, 1); }
        @keyframes messageBubble { 0% { opacity: 0; transform: scale(0.8) translateY(20px); } 100% { opacity: 1; transform: scale(1) translateY(0); } }
        
        .transaction-card { animation: transactionSlide 0.6s cubic-bezier(0.34, 1.56, 0.64, 1); }
        @keyframes transactionSlide { 0% { opacity: 0; transform: translateX(-50px) scale(0.95); } 100% { opacity: 1; transform: translateX(0) scale(1); } }
        
        .hover-lift { transition: all 0.3s cubic-bezier(0.34, 1.56, 0.64, 1); }
        .hover-lift:hover { transform: translateY(-8px); box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15); }
        
        .status-badge { display: inline-flex; align-items: center; gap: 6px; padding: 6px 12px; border-radius: 20px; font-size: 12px; font-weight: 600; }
        .status-verified { background: linear-gradient(135deg, #10b981, #34d399); color: white; }
        .status-instant { background: linear-gradient(135deg, #3b82f6, #60a5fa); color: white; }
        .status-secure { background: linear-gradient(135deg, #8b5cf6, #a78bfa); color: white; }
        
        .custom-scrollbar::-webkit-scrollbar { width: 8px; }
        .custom-scrollbar::-webkit-scrollbar-track { background: rgba(0, 0, 0, 0.05); border-radius: 10px; }
        .custom-scrollbar::-webkit-scrollbar-thumb { background: linear-gradient(180deg, #26a17b, #1a8462); border-radius: 10px; }
        .custom-scrollbar::-webkit-scrollbar-thumb:hover { background: linear-gradient(180deg, #34d399, #26a17b); }
        
        .live-indicator { position: relative; }
        .live-indicator::before { content: ''; position: absolute; inset: 0; background: radial-gradient(circle, rgba(239, 68, 68, 0.3), transparent); animation: liveRadar 2s infinite; }
        @keyframes liveRadar { 0% { transform: scale(1); opacity: 1; } 100% { transform: scale(1.5); opacity: 0; } }
        
        .stat-number { transition: all 0.3s ease; }
        .stat-number:hover { transform: scale(1.1); color: #26a17b; }
    </style>
</head>
<body>
    <!-- Animated Background -->
    <div class="fixed inset-0 -z-10 overflow-hidden">
        <div class="absolute top-0 left-1/4 w-96 h-96 bg-gradient-to-br from-green-400/20 to-emerald-400/10 rounded-full blur-3xl animate-pulse"></div>
        <div class="absolute bottom-0 right-1/4 w-96 h-96 bg-gradient-to-br from-blue-400/20 to-cyan-400/10 rounded-full blur-3xl animate-pulse" style="animation-delay: 1s;"></div>
    </div>

    <!-- Header -->
    <header class="relative z-10 backdrop-blur-md border-b border-white/10" style="background: linear-gradient(135deg, rgba(15, 20, 25, 0.95) 0%, rgba(26, 46, 26, 0.95) 50%, rgba(38, 161, 123, 0.1) 100%);">
        <div class="container mx-auto px-4 py-6">
            <div class="flex items-center justify-between">
                <div class="flex items-center gap-4">
                    <div class="relative">
                        <img src="../img/usdt_cryptocurrencies_icon_188337.png" alt="Logo" class="h-12 w-12 floating">
                        <div class="absolute inset-0 bg-green-500/20 rounded-full blur-lg"></div>
                    </div>
                    <div>
                        <h1 class="text-3xl font-black gradient-text">Live Transactions</h1>
                        <p class="text-sm text-gray-400">Real-time USDT-FLASH Global Activity</p>
                    </div>
                </div>
                <a href="../index.html" class="px-6 py-3 bg-gradient-to-r from-green-600 to-emerald-600 text-white rounded-xl hover:shadow-lg hover:shadow-green-500/50 transition-all duration-300 font-bold flex items-center gap-2">
                    <i class="fas fa-home"></i> Home
                </a>
            </div>
        </div>
    </header>

    <!-- Live Status Bar -->
    <div class="relative z-10 backdrop-blur-md border-b border-white/10" style="background: linear-gradient(90deg, rgba(38, 161, 123, 0.1), rgba(52, 211, 153, 0.1));">
        <div class="container mx-auto px-4 py-4">
            <div class="flex items-center justify-center gap-8 flex-wrap">
                <div class="flex items-center gap-3 live-indicator">
                    <div class="relative flex items-center gap-3 bg-gradient-to-r from-red-600 via-red-500 to-orange-500 px-6 py-3 rounded-2xl shadow-2xl border-2 border-white/20 backdrop-blur-sm hover:scale-105 transition-transform duration-300">
                        <div class="absolute inset-0 bg-gradient-to-r from-red-600/50 to-orange-500/50 rounded-2xl blur-xl animate-pulse"></div>
                        <div class="relative flex items-center gap-2">
                            <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg" class="animate-pulse">
                                <circle cx="10" cy="10" r="9" fill="white" opacity="0.95"/>
                                <circle cx="10" cy="10" r="5" fill="#dc2626" class="animate-ping" style="animation-duration: 1.5s;"/>
                                <circle cx="10" cy="10" r="5" fill="#ef4444"/>
                                <circle cx="10" cy="10" r="7" stroke="white" stroke-width="1.5" opacity="0.6"/>
                                <circle cx="10" cy="10" r="3" fill="white" opacity="0.8"/>
                            </svg>
                            <span class="font-black text-white text-xl tracking-widest drop-shadow-lg">LIVE</span>
                        </div>
                        <div class="absolute -right-1 -top-1 w-3 h-3 bg-green-400 rounded-full border-2 border-white shadow-lg animate-pulse"></div>
                    </div>
                </div>
                <div class="flex items-center gap-2 text-white font-semibold">
                    <i class="fas fa-users text-green-400"></i>
                    <span id="active-users">2,847</span> Active Users
                </div>
                <div class="flex items-center gap-2 text-white font-semibold">
                    <i class="fas fa-exchange-alt text-blue-400"></i>
                    <span id="total-tx">18,547</span> Transactions
                </div>
                <div class="flex items-center gap-2 text-white font-semibold">
                    <i class="fas fa-globe text-purple-400"></i>
                    <span>127</span> Countries
                </div>
            </div>
        </div>
    </div>

    <!-- Main Content -->
    <div class="container mx-auto px-4 py-8 relative z-10">
        <!-- Global Community Hub -->
        <div class="glass-morphism rounded-3xl p-8 mb-8 neon-glow hover-lift">
            <div class="flex items-center gap-4 mb-8">
                <div class="w-12 h-12 bg-gradient-to-br from-green-500 to-emerald-600 rounded-2xl flex items-center justify-center shadow-lg">
                    <img src="https://cdn-icons-png.flaticon.com/512/3179/3179068.png" alt="Global" class="w-6 h-6 floating">
                </div>
                <div>
                    <h2 class="text-4xl font-black gradient-text">Global Community Hub</h2>
                    <p class="text-gray-600 font-medium">Real-time conversations from 127 countries</p>
                </div>
            </div>

            <!-- Chat Messages -->
            <div id="chat-container" class="glass-morphism rounded-2xl p-6 h-96 overflow-y-auto mb-6 custom-scrollbar border border-white/20">
                <div class="text-center text-gray-400 py-20">
                    <div class="animate-spin rounded-full h-12 w-12 border-4 border-green-500/30 border-t-green-500 mx-auto mb-4"></div>
                    <p class="font-semibold">Loading global conversations...</p>
                </div>
            </div>

            <!-- Chat Input -->
            <div class="flex gap-3">
                <div class="flex-1 relative">
                    <input type="text" id="chat-input" placeholder="Join the global conversation..." class="w-full px-6 py-4 bg-white/80 border-2 border-gray-200 rounded-2xl focus:outline-none focus:border-green-500 focus:ring-4 focus:ring-green-500/20 transition-all duration-300 font-medium">
                    <i class="fas fa-comment-dots absolute right-4 top-1/2 -translate-y-1/2 text-gray-400"></i>
                </div>
                <button onclick="sendMessage()" class="px-8 py-4 bg-gradient-to-r from-green-600 to-emerald-600 text-white rounded-2xl hover:shadow-lg hover:shadow-green-500/50 transition-all duration-300 font-bold flex items-center gap-2 hover:scale-105">
                    <i class="fas fa-paper-plane"></i> Send
                </button>
            </div>
        </div>

        <!-- Live Transaction Feed -->
        <div class="glass-morphism rounded-3xl p-8 neon-glow hover-lift">
            <div class="flex items-center gap-4 mb-8">
                <div class="w-12 h-12 bg-gradient-to-br from-blue-500 to-cyan-600 rounded-2xl flex items-center justify-center shadow-lg">
                    <img src="https://cdn-icons-png.flaticon.com/512/2331/2331970.png" alt="Live" class="w-6 h-6 floating">
                </div>
                <div>
                    <h2 class="text-4xl font-black gradient-text">Live Transaction Feed</h2>
                    <p class="text-gray-600 font-medium">Real-time blockchain verified transactions</p>
                </div>
            </div>

            <!-- Stats Grid -->
            <div class="grid grid-cols-4 gap-4 mb-8">
                <div class="glass-morphism rounded-2xl p-4 border border-white/20 hover-lift">
                    <div class="text-3xl font-black text-blue-600 stat-number" id="volume">$2.8M</div>
                    <div class="text-sm text-gray-600 font-semibold">Volume (1h)</div>
                </div>
                <div class="glass-morphism rounded-2xl p-4 border border-white/20 hover-lift">
                    <div class="text-3xl font-black text-green-600 stat-number" id="tx-count">2,847</div>
                    <div class="text-sm text-gray-600 font-semibold">Transactions</div>
                </div>
                <div class="glass-morphism rounded-2xl p-4 border border-white/20 hover-lift">
                    <div class="text-3xl font-black text-purple-600 stat-number" id="avg-amt">$9.8K</div>
                    <div class="text-sm text-gray-600 font-semibold">Avg Amount</div>
                </div>
                <div class="glass-morphism rounded-2xl p-4 border border-white/20 hover-lift">
                    <div class="text-3xl font-black text-orange-600 stat-number" id="success">99.98%</div>
                    <div class="text-sm text-gray-600 font-semibold">Success Rate</div>
                </div>
            </div>

            <!-- Transactions -->
            <div id="tx-container" class="glass-morphism rounded-2xl p-6 h-96 overflow-y-auto custom-scrollbar border border-white/20">
                <div class="text-center text-gray-400 py-20">
                    <div class="animate-spin rounded-full h-12 w-12 border-4 border-green-500/30 border-t-green-500 mx-auto mb-4"></div>
                    <p class="font-semibold">Loading transactions...</p>
                </div>
            </div>
        </div>
    </div>

    <script>
        const users = ['Mohammed Al-Zahra', 'Alexander Thompson', 'Abdullah Al-Mansour', 'Sophia Martinez', 'Hassan Al-Tabari', 'Isabella Garcia', 'Omar Al-Kindi', 'Emma Wilson', 'Khalid Al-Farisi', 'Benjamin Rodriguez', 'Mariam Al-Qasemi', 'Lucas Davis', 'Ahmed Al-Rashid', 'Sarah Al-Zahra', 'Youssef Al-Kindi', 'Chen Wei', 'Maria Garcia', 'Hiroshi Tanaka', 'Anna Kowalski', 'Pierre Dubois'];
        
        const conversations = [
            {q: 'Ø­Ø¯ Ø¬Ø±Ø¨ Ø§Ù„ØªØ­ÙˆÙŠÙ„ Ù„Ù…Ø­ÙØ¸Ø© Trust WalletØŸ', r: 'Ù†Ø¹Ù… Ø£Ù†Ø§ Ø¬Ø±Ø¨ØªÙ‡ØŒ Ø³Ø±ÙŠØ¹ Ø¬Ø¯Ø§Ù‹ ÙˆØ¢Ù…Ù† ðŸ‘'},
            {q: 'ÙƒÙ… Ø§Ù„Ù…Ø¯Ø© Ø§Ù„Ù…ØªÙˆÙ‚Ø¹Ø© Ù„Ù„ØªØ­ÙˆÙŠÙ„ØŸ', r: 'Ø¹Ø§Ø¯Ø© Ù…Ù† 2-5 Ø¯Ù‚Ø§Ø¦Ù‚ ÙÙ‚Ø·'},
            {q: 'ÙÙŠ Ø±Ø³ÙˆÙ… Ø¥Ø¶Ø§ÙÙŠØ©ØŸ', r: 'Ù„Ø§ØŒ Ø§Ù„Ø±Ø³ÙˆÙ… Ù…ØªØ¶Ù…Ù†Ø© ÙÙŠ Ø§Ù„Ø³Ø¹Ø±'},
            {q: 'Ø£ÙˆÙ„ Ù…Ø±Ø© Ø£Ø³ØªØ®Ø¯Ù… Ø§Ù„Ù…ÙˆÙ‚Ø¹ØŒ Ù…Ù…ÙƒÙ† Ù…Ø³Ø§Ø¹Ø¯Ø©ØŸ', r: 'Ø£Ù‡Ù„Ø§Ù‹ Ø¨Ùƒ! ÙØ±ÙŠÙ‚ Ø§Ù„Ø¯Ø¹Ù… Ù…ÙˆØ¬ÙˆØ¯ 24/7 ðŸ‘¨â€ðŸ’»'},
            {q: 'Ø§Ù„ØªØ­ÙˆÙŠÙ„ ÙˆØµÙ„ØŒ Ø´ÙƒØ±Ø§Ù‹', r: 'Ø§Ù„Ø¹ÙÙˆ! Ù†ØªÙ…Ù†Ù‰ Ù„Ùƒ ØªØ¬Ø±Ø¨Ø© Ù…Ù…ØªØ§Ø²Ø© âœ¨'},
            {q: 'How long does transfer take?', r: 'Usually 2-5 minutes, very fast! âš¡'},
            {q: 'Does it support MetaMask?', r: 'Yes! MetaMask, Trust Wallet, Binance & more âœ…'},
            {q: 'What are the fees?', r: 'All fees included in the package price, no hidden costs'},
            {q: 'First time using this, any tips?', r: 'Welcome! Just follow the steps, support is here 24/7 ðŸš€'},
            {q: 'Transfer received, thanks', r: 'You\'re welcome! Glad it worked smoothly ðŸ™'},
            {q: 'Combien de temps pour le transfert?', r: 'GÃ©nÃ©ralement 2-5 minutes seulement â±ï¸'},
            {q: 'Support disponible maintenant?', r: 'Oui, support 24/7 disponible! ðŸ‘‹'},
            {q: 'à¤Ÿà¥à¤°à¤¾à¤‚à¤¸à¤«à¤° à¤®à¥‡à¤‚ à¤•à¤¿à¤¤à¤¨à¤¾ à¤¸à¤®à¤¯ à¤²à¤—à¤¤à¤¾ à¤¹à¥ˆ?', r: 'à¤†à¤®à¤¤à¥Œà¤° à¤ªà¤° 2-5 à¤®à¤¿à¤¨à¤Ÿ ðŸ•’'}
        ];

        const locations = ['Dubai', 'Cairo', 'Riyadh', 'Amman', 'Kuwait', 'Beirut', 'London', 'New York', 'Tokyo', 'Singapore', 'Hong Kong', 'Sydney', 'Toronto', 'Paris', 'Berlin'];
        const amounts = ['1,000', '3,500', '10,000'];
        const wallets = ['BINANCE', 'BYBIT', 'METAMASK', 'TRUST WALLET'];
        const types = ['Purchase', 'Transfer', 'Exchange'];

        function getRandomUser() { return users[Math.floor(Math.random() * users.length)]; }
        function getRandomConversation() { return conversations[Math.floor(Math.random() * conversations.length)]; }
        function getRandomLocation() { return locations[Math.floor(Math.random() * locations.length)]; }
        function getRandomAmount() { return amounts[Math.floor(Math.random() * amounts.length)]; }
        function getRandomWallet() { return wallets[Math.floor(Math.random() * wallets.length)]; }
        function getRandomType() { return types[Math.floor(Math.random() * types.length)]; }

        function createChatMessage(user, msg, time, verified = Math.random() > 0.6) {
            return `
                <div class="mb-4 p-4 glass-morphism rounded-2xl border border-white/20 hover-lift message-bubble">
                    <div class="flex justify-between items-start mb-3">
                        <div class="flex items-center gap-3">
                            <img src="${generateAvatar(user)}" alt="${user}" class="w-10 h-10 rounded-full shadow-lg border-2 border-white/30">
                            <div>
                                <div class="font-bold text-gray-900 flex items-center gap-2">${user} ${verified ? '<span class="status-badge status-verified"><i class="fas fa-check-circle"></i>VERIFIED</span>' : ''}</div>
                                <div class="text-xs text-gray-500">${time}</div>
                            </div>
                        </div>
                    </div>
                    <p class="text-gray-700 text-sm leading-relaxed">${msg}</p>
                </div>
            `;
        }

        function generateAvatar(user) {
            const colors = ['26a17b', '34d399', '10b981', '059669', '047857', '065f46', '0d9488', '14b8a6'];
            const color = colors[user.charCodeAt(0) % colors.length];
            const initials = user.split(' ').map(n => n[0]).join('');
            return `data:image/svg+xml,%3Csvg width='48' height='48' viewBox='0 0 48 48' xmlns='http://www.w3.org/2000/svg'%3E%3Cdefs%3E%3ClinearGradient id='g' x1='0%25' y1='0%25' x2='100%25' y2='100%25'%3E%3Cstop offset='0%25' style='stop-color:%23${color};stop-opacity:1'/%3E%3Cstop offset='100%25' style='stop-color:%231a8462;stop-opacity:1'/%3E%3C/linearGradient%3E%3Cfilter id='s'%3E%3CfeDropShadow dx='0' dy='2' stdDeviation='3' flood-opacity='0.3'/%3E%3C/filter%3E%3C/defs%3E%3Ccircle cx='24' cy='24' r='24' fill='url(%23g)' filter='url(%23s)'/%3E%3Ccircle cx='24' cy='24' r='23' fill='none' stroke='rgba(255,255,255,0.3)' stroke-width='1'/%3E%3Ctext x='24' y='32' font-family='Arial' font-size='18' font-weight='700' fill='white' text-anchor='middle'%3E${initials}%3C/text%3E%3C/svg%3E`;
        }
        
        function createTransaction(user, amount, location, wallet, type, time) {
            const typeColors = { 'Purchase': 'from-green-500', 'Transfer': 'from-blue-500', 'Exchange': 'from-purple-500' };
            const typeIcons = { 'Purchase': 'fa-shopping-cart', 'Transfer': 'fa-exchange-alt', 'Exchange': 'fa-sync-alt' };
            return `
                <div class="mb-4 p-5 glass-morphism rounded-2xl border border-white/20 hover-lift transaction-card">
                    <div class="flex justify-between items-start mb-4">
                        <div class="flex items-center gap-4">
                            <div class="relative">
                                <img src="${generateAvatar(user)}" alt="${user}" class="w-12 h-12 rounded-2xl shadow-lg border-2 border-white/30">
                                <img src="../img/${wallet === 'BINANCE' ? 'bnb_cryptocurrencies_icon_188408.png' : wallet === 'BYBIT' ? 'BYBIT.jpg' : wallet === 'METAMASK' ? 'META MASK.png' : 'Trust_Wallet_2023_b-stacked.webp'}" alt="${wallet}" class="absolute -bottom-1 -right-1 w-5 h-5 rounded-full border-2 border-white shadow-lg">
                            </div>
                            <div>
                                <div class="font-bold text-gray-900">${user}</div>
                                <div class="text-sm text-gray-600">${location} â€¢ ${wallet}</div>
                            </div>
                        </div>
                        <div class="text-right">
                            <div class="text-2xl font-black gradient-text">${amount} USDT</div>
                            <div class="text-xs text-gray-500">${time}</div>
                        </div>
                    </div>
                    <div class="flex gap-2 flex-wrap">
                        <span class="status-badge status-verified"><i class="fas fa-shield-check"></i>Verified</span>
                        <span class="status-badge status-instant"><i class="fas fa-bolt"></i>Instant</span>
                        <span class="status-badge status-secure"><i class="fas fa-lock"></i>Encrypted</span>
                    </div>
                </div>
            `;
        }

        function loadInitialChat() {
            const container = document.getElementById('chat-container');
            container.innerHTML = '';
            for (let i = 0; i < 5; i++) {
                const conv = getRandomConversation();
                const user1 = getRandomUser();
                const user2 = getRandomUser();
                container.innerHTML += createChatMessage(user1, conv.q, `${i * 2 + 2}m ago`);
                container.innerHTML += createChatMessage(user2, conv.r, `${i * 2 + 1}m ago`, true);
            }
        }

        function loadInitialTransactions() {
            const container = document.getElementById('tx-container');
            container.innerHTML = '';
            for (let i = 0; i < 10; i++) {
                container.innerHTML += createTransaction(getRandomUser(), getRandomAmount(), getRandomLocation(), getRandomWallet(), getRandomType(), `${i + 1}m ago`);
            }
        }

        function addNewMessage() {
            const container = document.getElementById('chat-container');
            const conv = getRandomConversation();
            const user1 = getRandomUser();
            const user2 = getRandomUser();
            
            const question = createChatMessage(user1, conv.q, 'now');
            container.insertAdjacentHTML('afterbegin', question);
            
            setTimeout(() => {
                const reply = createChatMessage(user2, conv.r, 'now', true);
                container.insertAdjacentHTML('afterbegin', reply);
                const msgs = container.querySelectorAll('div');
                if (msgs.length > 30) {
                    msgs[msgs.length - 1].remove();
                    msgs[msgs.length - 2].remove();
                }
                container.scrollTop = 0;
            }, 1500);
        }

        function addNewTransaction() {
            const container = document.getElementById('tx-container');
            const newTx = createTransaction(getRandomUser(), getRandomAmount(), getRandomLocation(), getRandomWallet(), getRandomType(), 'now');
            container.insertAdjacentHTML('afterbegin', newTx);
            const txs = container.querySelectorAll('div');
            if (txs.length > 20) txs[txs.length - 1].remove();
            container.scrollTop = 0;
        }

        function sendMessage() {
            const input = document.getElementById('chat-input');
            if (input.value.trim()) {
                const container = document.getElementById('chat-container');
                container.insertAdjacentHTML('afterbegin', createChatMessage('You', input.value, 'now', true));
                input.value = '';
                setTimeout(() => {
                    const conv = getRandomConversation();
                    const supportUser = 'Support Team';
                    const reply = createChatMessage(supportUser, conv.r, 'now', true);
                    container.insertAdjacentHTML('afterbegin', reply);
                    
                    setTimeout(() => {
                        for (let i = 0; i < 4; i++) {
                            setTimeout(addNewMessage, i * 2000);
                        }
                    }, 2000);
                }, 1000);
            }
        }

        function updateStats() {
            document.getElementById('active-users').textContent = Math.floor(Math.random() * 200) + 2700;
            document.getElementById('total-tx').textContent = (Math.floor(Math.random() * 200) + 18400).toLocaleString();
            document.getElementById('volume').textContent = '$' + (Math.random() * 4 + 2).toFixed(1) + 'M';
            document.getElementById('tx-count').textContent = (Math.floor(Math.random() * 200) + 2700).toLocaleString();
            document.getElementById('avg-amt').textContent = '$' + (Math.random() * 8 + 7).toFixed(1) + 'K';
            document.getElementById('success').textContent = (99.95 + Math.random() * 0.04).toFixed(2) + '%';
        }

        function scheduleNextMessage() {
            const delay = Math.random() * 20000 + 10000;
            setTimeout(() => {
                addNewMessage();
                scheduleNextMessage();
            }, delay);
        }
        
        window.addEventListener('load', () => {
            loadInitialChat();
            loadInitialTransactions();
            scheduleNextMessage();
            setInterval(addNewTransaction, 4000);
            setInterval(updateStats, 5000);
        });

        document.getElementById('chat-input').addEventListener('keypress', (e) => {
            if (e.key === 'Enter') sendMessage();
        });
    </script>
</body>
</html>
